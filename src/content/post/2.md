---
title: 'タイトル2'
tags: ['Eng', 'Python']
date: '2000-02-01'
description: 'Add the following classes to the cva call in your button.tsx file.'
series: 'Python'
---

## Astroでページごとのレンダリング方式を設定する方法

Astroは柔軟なレンダリング方式を提供しており、ページごとに異なる方式を指定できます。本記事では、Astroにおける主なレンダリング方式と、それぞれの設定方法について解説します。

### 1. 静的サイト生成 (SSG: Static Site Generation)

Astroのデフォルトのレンダリング方式は静的サイト生成（SSG）です。ビルド時にHTMLファイルが生成され、サーバーの負荷を減らし、高速な表示が可能になります。

#### 設定方法

Astroでは特に設定しなくてもSSGが適用されます。

```astro
---
const data = await fetch("https://api.example.com/data").then(res => res.json());
---
<html>
  <body>
    <h1>データ: {data.title}</h1>
  </body>
</html>
```

### 2. サーバーサイドレンダリング (SSR: Server-Side Rendering)

動的なデータを扱う場合、サーバーサイドレンダリング（SSR）が適しています。AstroでSSRを有効にするには、`prerender` を無効に設定します。

#### 設定方法

```astro
---
export const prerender = false;
const data = await fetch("https://api.example.com/data").then(res => res.json());
---
<html>
  <body>
    <h1>動的データ: {data.title}</h1>
  </body>
</html>
```

また、APIルートを作成してデータを取得することも可能です。

```ts
// src/pages/api/data.ts
export const GET = async () => {
  return new Response(JSON.stringify({ title: "SSRで取得したデータ" }), {
    headers: { "Content-Type": "application/json" },
  });
};
```

### 3. クライアントサイドレンダリング (CSR: Client-Side Rendering)

ReactやVueなどのフレームワークを利用し、クライアントサイドレンダリング（CSR）を適用することも可能です。

#### 設定方法

```astro
---
import MyReactComponent from "../components/MyReactComponent.astro";
---
<html>
  <body>
    <MyReactComponent client:only="react" />
  </body>
</html>
```

### まとめ

| レンダリング方式 | 設定方法 | 特徴 |
|----------------|----------------|----------------|
| **SSG (静的)** | デフォルト | 高速・SEOに強い |
| **SSR (動的)** | `export const prerender = false;` | 最新データが取得可能 |
| **CSR (クライアント側)** | `client:only="react"` | インタラクティブなUI |

用途に応じて適切なレンダリング方式を選択すると、効率的なWebサイトを構築できます。

https://nextjs.org/blog/building-apis-with-nextjs
